/*!
 * Template Functions
*/


function iconBoxVideoOnClick(e){var t=$(e).find("video").get(0);if(t)if(t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2)t.pause(),$(e).find(".icon-box-video-play").show();else{var a=$(e).find(".video-loader").get(0);a&&$(a).removeClass("video-loaded"),t.play(),$(e).find(".icon-box-video-play").hide()}}function onNavTabVideoClick(e,t){var a=$(e).find("video").get(0);a&&(a.currentTime=0,a.play());for(otherTab in t){var a=$(otherTab).find("video").get(0);a&&(a.pause(),a.currentTime=0)}}!function(e){"use strict";e(window).on("load",function(){e("div").is(".page-loader")&&e(".page-loader").delay(500).fadeOut(800)}),e(document).ready(function(){function t(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var a=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return a==i&&(i=t.clientWidth),document.body.removeChild(t),a-i}function a(t,a,i){t.addClass("untouched"),a.addClass("untouched");var o=!0,s=!1;window.addEventListener("touchstart",function(){s=!0}),window.addEventListener("touchend",function(){s=!1}),t.on("mousedown touchstart",function(s){o=!1,t.removeClass("untouched"),a.removeClass("untouched"),t.addClass("draggable"),a.addClass("resizable");var n=s.pageX?s.pageX:s.originalEvent.touches[0].pageX,r=t.outerWidth(),l=t.offset().left+r-n,d=i.offset().left,c=i.outerWidth(),p=d+0,u=d+c-r-0;t.parents().on("mousemove touchmove",function(t){t.preventDefault();var i=t.pageX?t.pageX:t.originalEvent.touches[0].pageX,o=i+l-r;o<p?o=p:o>u&&(o=u);var s=100*(o+r/2-d)/c+"%";e(".draggable").css("left",s).on("mouseup touchend touchcancel",function(){e(this).removeClass("draggable"),a.removeClass("resizable")}),e(".resizable").css("width",s)}).on("mouseup touchend touchcancel",function(){t.removeClass("draggable"),a.removeClass("resizable")})}).on("mouseup touchend touchcancel",function(e){t.removeClass("draggable"),a.removeClass("resizable")})}function i(){e(".video-loader").each(function(){var t=e(this).find("video").get(0),a=this;if(t){e(t).on("playing",function(t){e(a).addClass("video-loaded")}),e(t).on("timeupdate",function(t){e(a).addClass("video-loaded")}),e(t).on("waiting",function(t){e(a).removeClass("video-loaded")});var i=e(this).find(".video-loader-play-on-click").get(0);i&&e(a).on("click",function(i){t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2?(t.pause(),e(a).find(".video-loader-play-on-click").show()):(e(a).removeClass("video-loaded"),t.play(),e(a).find(".video-loader-play-on-click").hide())})}})}var o=e(".header"),s=e(".onepage-nav"),n=e(".parallax"),r=e(".row-post-masonry"),l=e("[data-background], .slides-container li"),d=e(".module-cover-slides"),c=e("[data-mY]"),p=e(".progress-item"),u=e(".counter-timer"),h=e(".chart"),f=e(".twitter-feed"),m=e(".sticky-sidebar"),v=e(".map"),g=e(".smoothscroll"),y=e(".play-button"),w=e(".gallery-group"),b=e(".gallery"),C=e(".shop-single-item-popup"),T=e(".portfolio-carousel"),x=e(".shop-carousel"),k=e(".clients-carousel"),z=e(".review-slides"),E=e(".review-carousel"),S=e(".image-slider"),W=e("#contact-form"),P=document.location.hash;if(P){var B=P.split("?"),_=e('.nav-tabs .nav-link[href="'+B[0]+'"]');_&&_.tab("show")}e(document).on("click",".inner-navigation.show",function(t){e(t.target).is("span")&&!e(t.target).parent().parent().hasClass("menu-item-has-children")&&e(this).collapse("hide")}),e("a",s).filter(function(){e(this).is(':not([href^="#"])')&&e(this).addClass("external")}),s.singlePageNav({filter:":not(.external)",currentClass:"active",offset:"58"}),e(window).scroll(function(){var t=e(window).scrollTop();t>=5?(o.addClass("header-small"),o.addClass("header-shadow")):(o.removeClass("header-small"),o.removeClass("header-shadow"))}).scroll(),d.each(function(){e(this).superslides(e.extend({play:1e4,animation:"slide",animation_speed:800,pagination:!0,scrollable:!0},e(this).data("module-cover-slides-options")))}),l.each(function(){1==e(this).attr("data-gradient")?(e(this).append('<div class="overlay-background overlay-gradient"></div>'),e(this).find(".overlay-background").css("opacity",e(this).attr("data-overlay"))):e(this).attr("data-overlay")>0&&(e(this).append('<div class="overlay-background"></div>'),e(this).find(".overlay-background").css("opacity",e(this).attr("data-overlay")))}),l.each(function(){e(this).css("background-image","url("+e(this).attr("data-background")+")")}),c.each(function(){e(this).css("margin-top",e(this).attr("data-mY"))}),e(".off-canvas-open, .off-canvas-close").on("click",function(){return e("body").toggleClass("off-canvas-sidebar-open"),!1}).resize(),e(document).on("click",function(t){var a=e(".off-canvas-sidebar");a.is(t.target)||0!==a.has(t.target).length||e("body").removeClass("off-canvas-sidebar-open")}).resize(),e(".off-canvas-sidebar-wrapper").css("margin-right","-"+t()+"px"),e(window).on("resize",function(){var t=Math.max(e(window).width(),window.innerWidth);t<=991&&e("body").removeClass("off-canvas-sidebar-open")});var A=e(".filters"),I=e(".row-portfolio");e("a",A).on("click",function(){var t=e(this).attr("data-filter");return e(".current",A).removeClass("current"),e(this).addClass("current"),I.isotope({filter:t}),!1}),e(window).on("resize",function(){I.imagesLoaded(function(){I.isotope({layoutMode:"masonry",itemSelector:".portfolio-item",transitionDuration:"0.4s",masonry:{columnWidth:".grid-sizer"}})})}),e(window).on("resize",function(){setTimeout(function(){r.isotope({layoutMode:"masonry",transitionDuration:"0.5s"})},1e3)}).resize(),S.each(function(){e(this).owlCarousel(e.extend({dots:1,nav:1,center:1,items:1,loop:1,autoHeight:0,margin:0,navText:['<span class="ti-arrow-left"></span>','<span class="ti-arrow-right"></span>']},e(this).data("carousel-options")))}),z.each(function(){e(this).owlCarousel(e.extend({autoplay:5e3,nav:1,items:1,loop:1,navText:['<span class="ti-arrow-left"></span>','<span class="ti-arrow-right"></span>']},e(this).data("carousel-options")))}),E.each(function(){e(this).owlCarousel(e.extend({nav:0,dots:1,autoplay:1,items:1,loop:1,margin:30,responsive:{768:{items:2},1025:{items:3}},navText:['<span class="ti-angle-left"></span>','<span class="ti-angle-right"></span>']},e(this).data("carousel-options")))}),k.each(function(){e(this).owlCarousel(e.extend({nav:0,dots:1,autoplay:1,items:2,loop:1,responsive:{768:{items:4}},navText:['<span class="ti-arrow-left"></span>','<span class="ti-arrow-right"></span>']},e(this).data("carousel-options")))}),x.each(function(){e(this).owlCarousel(e.extend({nav:0,dots:1,autoplay:1,items:1,loop:1,margin:30,responsive:{768:{items:2},1025:{items:4}},navText:['<span class="ti-angle-left"></span>','<span class="ti-angle-right"></span>']},e(this).data("carousel-options")))}),T.each(function(){e(this).owlCarousel(e.extend({nav:1,dots:0,autoplay:1,items:1,loop:1,margin:30,responsive:{768:{items:2},1025:{items:4}},navText:['<span class="ti-angle-left"></span>','<span class="ti-angle-right"></span>']},e(this).data("carousel-options")))}),y.magnificPopup({type:"iframe"}),b.magnificPopup({type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{titleSrc:"title",tError:"The image could not be loaded."}}),w.each(function(){e(this).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{titleSrc:"title",tError:"The image could not be loaded."}})}),C.magnificPopup({type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{titleSrc:"title",tError:"The image could not be loaded."}}),p.each(function(){e(this).appear(function(){var t=e(this).find(".progress-bar").attr("aria-valuenow");e(this).find(".progress-bar").animate({width:t+"%"}),e(this).find(".progress-number").countTo({from:0,to:t,speed:900,refreshInterval:30})})}),u.each(function(){e(this).appear(function(){var t=e(this).find("strong").attr("data-to");e(this).countTo({from:0,to:t,speed:1500,refreshInterval:10,formatter:function(e,t){return e=e.toFixed(t.decimals),e=e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}})})}),h.each(function(){e(this).appear(function(){e(this).easyPieChart(e.extend({barColor:"#000000",trackColor:"#eeeeee",scaleColor:!1,lineCap:"round",lineWidth:3,size:150},e(this).data("chart-options")))})}),f.each(function(t){e(this).attr("id","twitter-"+t);var a=e(this).data("twitter"),i=e(this).data("number"),o={profile:{screenName:""+a},domId:"twitter-"+t,maxTweets:i,enableLinks:!0,showPermalinks:!1};twitterFetcher.fetch(o)}),m.imagesLoaded(function(){m.stick_in_parent({offset_top:80,recalc_every:1}).on("sticky_kit:bottom",function(t){e(this).parent().css("position","relative")}).on("sticky_kit:unbottom",function(t){e(this).parent().css("position","relative")}).scroll()}),e(function(){e('[data-toggle="tooltip"]').tooltip()}),e("body").fitVids(),W.find("input,textarea").jqBootstrapValidation({preventSubmit:!0,submitError:function(e,t,a){},submitSuccess:function(t,a){a.preventDefault();var i=e("submit",W),o=e("#contact-response"),s=e('[name="name"]',W).val(),n=e('[name="email"]',W).val(),r=e('[name="subject"]',W).val(),l=e('[name="message"]',W).val();e.ajax({type:"POST",url:"assets/php/contact.php",dataType:"json",data:{name:s,email:n,subject:r,message:l},cache:!1,beforeSend:function(e){i.empty(),i.append('<i class="fa fa-cog fa-spin"></i> Wait...')},success:function(e){1==e.sendstatus?(o.html(e.message),t.fadeOut(500)):o.html(e.message)}})}}),v.each(function(){var t=/\[[^(\]\[)]*\]/g,a=e(this),i=Math.max(e(window).width(),window.innerWidth)>736,o=!!a.data("street-view");if(a.length>0){var s,n=a[0].getAttribute("data-addresses").match(t),r=a[0].getAttribute("data-info").match(t),l=a.data("icon"),d=a.data("zoom"),c=[];n.forEach(function(e,t){var a="{";if(a+='"latLng":'+e,0==t&&(s=JSON.parse(e)),r[t]){var i=r[t].replace(/\[|\]/g,"");a+=', "data":"'+i+'"'}a+="}",c.push(JSON.parse(a))});var p={scrollwheel:!1,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}]};p.center=s,p.zoom=d,p.draggable=i;var u={icon:l},h={map:{options:p},streetviewpanorama:{options:{container:e(this),opts:{visible:o,position:s,enableCloseButton:!0,scrollwheel:!1}}},marker:{values:c,options:u,events:{click:function(t,a,i){if(i.data){var o=e(this).gmap3("get"),s=e(this).gmap3({get:{name:"infowindow"}});s?(s.open(o,t),s.setContent(i.data)):e(this).gmap3({infowindow:{anchor:t,options:{content:i.data}}})}}}}};a.gmap3(h)}}),g.on("click",function(t){var a=this.hash,i=e(a);e("html, body").stop().animate({scrollTop:i.offset().top-58},600,"swing"),t.preventDefault()}),e(window).scroll(function(){e(this).scrollTop()>100?e(".scroll-top").addClass("scroll-top-visible"):e(".scroll-top").removeClass("scroll-top-visible")}),e('a[href="#top"]').on("click",function(){return e("html, body").animate({scrollTop:0},"slow"),!1});var M=/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/MSIE 10/i.test(navigator.userAgent)||/Edge\/\d+/.test(navigator.userAgent);if(1==M)var j=1;else var j=.4;var $=/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent||navigator.vendor||window.opera);if($||n.jarallax({speed:j}),e(".image-compare")[0]){var L=e(".image-compare");L.each(function(){var t=e(this).width()+"px";e(this).find(".image-compare-resize img").css({width:t}),a(e(this).find(".image-compare-divider"),e(this).find(".image-compare-resize"),e(this))}),e(window).on("resize",function(){var t=e(".image-compare");t.each(function(){var t=e(this).width()+"px";e(this).find(".image-compare-resize img").css({width:t})})})}e("#videoModal").on("show.bs.modal",function(t){var a=e(this).find("#videoContent").get(0);if(a){var i=e(a).attr("target_src");console.log(a,i),i.endsWith("?autoplay=1")||(i+="?autoplay=1"),e(a).attr("src",""),e(a).attr("src",i)}}),e("#videoModal").on("hidden.bs.modal",function(t){var a=e(this).find("#videoContent").get(0);if(a){var i=e(a).attr("target_src");i.endsWith("?autoplay=1")&&(i=i.replace("?autoplay=1","")),e(a).attr("src",""),e(a).attr("src",i)}}),i()})}(jQuery);

